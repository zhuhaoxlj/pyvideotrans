# 双语字幕功能更新

## 新增功能

### 1. 第二语言字号实时监听 ✅
**问题**：之前第二语言字号输入框需要按回车才能更新预览  
**解决**：添加 `textChanged` 监听，现在输入即时生效

### 2. 调换顺序功能 ✅
**新增复选框**："调换顺序(第二语言在上)"

**功能说明**：
- **未勾选**（默认）：第一语言在上，第二语言在下
- **勾选后**：第二语言在上，第一语言在下

**使用场景**：
- 中英双语：英文在上，中文在下
- 翻译字幕：译文在上，原文在下

## 完整功能列表

### 双语字幕样式配置
1. ✅ 启用双语字幕样式
2. ✅ **调换顺序(第二语言在上)** ← 新增
3. ✅ 第一语言样式：字体、字号、颜色等
4. ✅ 第二语言样式：字体、字号、颜色等
5. ✅ 实时预览
6. ✅ 所有输入框实时监听

## 使用示例

### 场景1：中英字幕，英文在上
```
1. 勾选"启用双语字幕样式"
2. 勾选"调换顺序(第二语言在上)"
3. 第一语言（英文）：白色16号
4. 第二语言（中文）：浅灰14号
5. 结果：英文显示在上方，中文显示在下方
```

### 场景2：默认顺序
```
1. 勾选"启用双语字幕样式"
2. 不勾选"调换顺序"
3. 结果：第一语言在上，第二语言在下
```

## 技术实现

**修改文件**：
- `videotrans/ui/vasrt.py` - UI和预览逻辑
- `videotrans/winform/fn_vas.py` - 导出逻辑

**核心逻辑**：
```python
if swap_checkbox.isChecked():
    # 第二语言在上
    text = f"{\\rSecondary}{line2}\\N{\\rDefault}{line1}"
else:
    # 第一语言在上（默认）
    text = f"{\\rDefault}{line1}\\N{\\rSecondary}{line2}"
```

## 效果
- ✅ 灵活控制双语字幕顺序
- ✅ 实时预览，所见即所得
- ✅ 预览=导出，完全一致

